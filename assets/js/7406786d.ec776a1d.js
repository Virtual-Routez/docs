(self.webpackChunkvirtual_routez_documentation=self.webpackChunkvirtual_routez_documentation||[]).push([[824],{4274:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return s},metadata:function(){return l},toc:function(){return p},default:function(){return u}});var n=a(2122),i=a(9756),o=(a(7294),a(3905)),r=["components"],s={id:"new_workstation_api",title:"New Workstation",sidebar_label:"New Workstation",sidebar_position:2},l={unversionedId:"new_workstation_api",id:"new_workstation_api",isDocsHomePage:!1,title:"New Workstation",description:"---",source:"@site/docs/new_workstation_api.md",sourceDirName:".",slug:"/new_workstation_api",permalink:"/docs/new_workstation_api",editUrl:"https://github.com/johangriesel/virtual-routez/docs/new_workstation_api.md",version:"current",sidebar_label:"New Workstation",sidebarPosition:2,frontMatter:{id:"new_workstation_api",title:"New Workstation",sidebar_label:"New Workstation",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"New Person",permalink:"/docs/new_person_api"},next:{title:"New Event",permalink:"/docs/new_event_api"}},p=[{value:"PREREQUISITES",id:"prerequisites",children:[]},{value:"API DATA",id:"api-data",children:[{value:"POST DATA",id:"post-data",children:[]},{value:"URL&#39;S TO BE USED",id:"urls-to-be-used",children:[]}]},{value:"AUTHENTICATION",id:"authentication",children:[]},{value:"API PARAMETERS",id:"api-parameters",children:[]},{value:"RESPONSES",id:"responses",children:[{value:"SUCCESSFUL RESPONSES:",id:"successful-responses",children:[]},{value:"UNSUCCESSFUL RESPONSES:",id:"unsuccessful-responses",children:[]}]},{value:"EXAMPLES",id:"examples",children:[{value:"Create a Workstation Example",id:"create-a-workstation-example",children:[]},{value:"Workstation No Description or Location Number Example",id:"workstation-no-description-or-location-number-example",children:[]}]},{value:"IMPORTANT NOTES",id:"important-notes",children:[]}],d={toc:p};function u(e){var t=e.components,a=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("hr",null),(0,o.kt)("p",null,"In this section, we will be looking at how to create a Workstation on Virtual RouteZ via an API call. A Workstation is a\ncompulsory requirement when using the new event API call, and therefore the workstation involved in an event must be\ncreated prior to logging an event that is linked to it."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"In this section we will look at:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#prerequisites"},"Prerequisites")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#api-data"},"API Data")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#authentication"},"Authentication")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#api-parameters"},"API Parameters")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#responses"},"Responses")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#examples"},"Examples"))),(0,o.kt)("h2",{id:"prerequisites"},"PREREQUISITES"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Below is what you will need in order to start using API's on Virtual RouteZ:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"A Virtual RouteZ account for your organisation"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#api-data"},"A Valid API Key")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#api-parameters"},"The name of the workstation")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#api-parameters"},"A WorkstationUid"))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"If you do not have a Virtual RouteZ account for your organisation, you can email ",(0,o.kt)("a",{parentName:"h5",href:"mailto:Francois@Ideco.co.za"},"Francois@Ideco.co.za")," to obtain")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"one."))),(0,o.kt)("h2",{id:"api-data"},"API DATA"),(0,o.kt)("h3",{id:"post-data"},"POST DATA"),(0,o.kt)("p",null,"This type of data will be Post, which is the HTTP method that is designed to send loads of data to a server from a\nspecified resource. In this case, we will be sending (Posting) data to the Virtual RouteZ server."),(0,o.kt)("h3",{id:"urls-to-be-used"},"URL'S TO BE USED"),(0,o.kt)("p",null,"The URL that you will use to post to will be ",(0,o.kt)("a",{parentName:"p",href:"https://web.virtualroutez.app/api/external_workstation/newWorkstation"},"https://web.virtualroutez.app/api/external_workstation/newWorkstation")),(0,o.kt)("h2",{id:"authentication"},"AUTHENTICATION"),(0,o.kt)("p",null,"In order to obtain authentication to be able to post to Virtual RouteZ, you will require:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"A Valid API Key:")),(0,o.kt)("p",null,'To authenticate, add an "api_key" header to your API request that contains an API Key. This API key will be provided to\nyou by Virtual RouteZ.'),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"Example Header:"))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"POST ",(0,o.kt)("a",{parentName:"p",href:"https://web.virtualroutez.app/api/external_workstation/newWorkstation"},"https://web.virtualroutez.app/api/external_workstation/newWorkstation")),(0,o.kt)("p",{parentName:"div"},"Authorization: API Key"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"A Body:"),"\nThe body for this request will be ",(0,o.kt)("inlineCode",{parentName:"p"},"new_workstation_json_encoded_object")),(0,o.kt)("h2",{id:"api-parameters"},"API PARAMETERS"),(0,o.kt)("p",null,"Now that we understand the authentication requirements and URL, let's have a look at the parameters in this API Payload."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"PARAMETER"),(0,o.kt)("th",{parentName:"tr",align:null},"DESCRIPTION"),(0,o.kt)("th",{parentName:"tr",align:null},"TYPE"),(0,o.kt)("th",{parentName:"tr",align:null},"COMPULSORY"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"WorkstationName"),(0,o.kt)("td",{parentName:"tr",align:null},'This is the name of the workstation being created. For example, if we were harvesting fruit from a farm with various places for various fruits, and example of a WorsktationName would be "Apple Section"'),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"Yes")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"WorkstationUid"),(0,o.kt)("td",{parentName:"tr",align:null},"This is the unique identifier for this workstation. This identifier is used for the New Event API call, and link it to the correct organisation via the WorkstationUid"),(0,o.kt)("td",{parentName:"tr",align:null},"Array"),(0,o.kt)("td",{parentName:"tr",align:null},"Yes")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Description"),(0,o.kt)("td",{parentName:"tr",align:null},'This is the description of the workstation. An example of this would be "The Apple Section of the Farm"'),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"No")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"LocationNumber"),(0,o.kt)("td",{parentName:"tr",align:null},'This is the location number of the workstation. For example, we could say that 2B could be the section of the farm where our items are grown and procured. The LocationNumber here could be "SEC2B"'),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"No")))),(0,o.kt)("h2",{id:"responses"},"RESPONSES"),(0,o.kt)("p",null,"Each API call will return a response of either successful and unsuccessful. Below are the responses you may receive with\nthis API call."),(0,o.kt)("h3",{id:"successful-responses"},"SUCCESSFUL RESPONSES:"),(0,o.kt)("p",null,"If an API call has run successfully, the response below will be given:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "Result": "Success",\n  "AuthenticationToken": "123456789987456321",\n  "Message": "The workstations have been successfully created."\n}\n')),(0,o.kt)("h3",{id:"unsuccessful-responses"},"UNSUCCESSFUL RESPONSES:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Missing Information"),"\nIf an API call has not run successfully and a parameter was missing from the payload, the response below will be given:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "Result": "Failed",\n  "AuthenticationToken": "123456789987456321",\n  "Message": "The following attributes were of the wrong type or blank.",\n  "Attributes": [\n    "WorkstationName"\n  ]\n}\n')),(0,o.kt)("p",null,"As you can see in the above example, the WorkstationName was not provided, and as it is a compulsory parameter, resulted\nin a failed response."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Not Authorised:"),"\nIf an API key is not valid for this event, the below error will be given:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "Result": "Failed",\n  "Message": "Not authorized."\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Workstation Already Exists:"),"\nIn this instance, an error is received as a workstation for this organisation already exists with the WorkstationUid\nprovided."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "Result": "Failed",\n  "AuthenticationToken": "123456789987456321",\n  "Message": "The following workstations already exists in the system.",\n  "WorkstationUid": [\n    "APLFRM"\n  ]\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"API Key Is Not Linked to a Valid Organisation"),"\nWhen the API Key does not link to an organisation that is allowed to generate API Calls for Virtual RouteZ, the\nfollowing error will be received:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "Result": "Failed",\n  "AuthenticationToken": "12345678987456322",\n  "Message": "ApiKey provided is not linked to a valid organisation."\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Same Payload Requested Less Than A Minute Ago:"),"\nWhen the exact same payload is run in less than a minute later than it was previously run, the following error will be\nreceived:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "Result": "Failed",\n  "AuthenticationToken": "12345678987456322",\n  "Message": "Exact same payload requested within a minute ago. Request terminated."\n}\n')),(0,o.kt)("h2",{id:"examples"},"EXAMPLES"),(0,o.kt)("h3",{id:"create-a-workstation-example"},"Create a Workstation Example"),(0,o.kt)("p",null,"If we were to create a workstation for an apple farm, we could do so with this API call."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Below is an easy to read example:")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Example")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("strong",{parentName:"p"},"Name:")," Harvesting"),(0,o.kt)("p",{parentName:"div"},(0,o.kt)("strong",{parentName:"p"},"Description:")," Harvesting Tree"),(0,o.kt)("p",{parentName:"div"},(0,o.kt)("strong",{parentName:"p"},"UID:")," Fruit Tree"),(0,o.kt)("p",{parentName:"div"},(0,o.kt)("strong",{parentName:"p"},"Location Number:")," Fruit"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Payload to achieve this:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "api_key": "8BCUg4TxQKteYR9H5jh7n3czvrWVwiA2lFosLPJumyqa6fID",\n  "new_workstation_json_encoded_object": [\n    {\n      "WorkstationName": "HRVST1",\n      "Description": "This is where we grow apples",\n      "LocationNumber": "SEC2B",\n      "WorkstationUid": "FRM1"\n    }\n  ]\n}\n')),(0,o.kt)("h3",{id:"workstation-no-description-or-location-number-example"},"Workstation No Description or Location Number Example"),(0,o.kt)("p",null,"If we wanted to add a workstation, without a Description or a LocationNumber, it is possible to do this by leaving these\nparameters out of the API call.\n",(0,o.kt)("strong",{parentName:"p"},"Below is an easy to read example:")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Example")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("strong",{parentName:"p"},"Name:")," Harvesting"),(0,o.kt)("p",{parentName:"div"},(0,o.kt)("strong",{parentName:"p"},"UID:")," Fruit Tree"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Payload to achieve this:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "api_key": "8BCUg4TxQKteYR9H5jh7n3czvrWVwiA2lFosLPJumyqa6fID",\n  "new_workstation_json_encoded_object": [\n    {\n      "WorkstationName": "MSTN",\n      "WorkstationUid": "FRM1"\n    }\n  ]\n}\n')),(0,o.kt)("h2",{id:"important-notes"},"IMPORTANT NOTES"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"If the workstation referenced in the payload does exist, this API call will not work."),(0,o.kt)("li",{parentName:"ul"},"If the workstation referenced in the payload does not exist in the system, a new one will be created."),(0,o.kt)("li",{parentName:"ul"},'If you try to submit the exact same payload within a minute of the last submission, you will get an error: "Exact same\npayload requested within a minute ago. Request terminated.')))}u.isMDXComponent=!0}}]);